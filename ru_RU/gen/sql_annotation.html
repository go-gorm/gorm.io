<!DOCTYPE html>
<html lang="ru_RU">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>Annotation Syntax | GORM - The fantastic ORM library for Golang, aims to be developer friendly.</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://gorm.io/ru_RU/gen/sql_annotation.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="en" href="https://gorm.io/gen/sql_annotation.html">
    
      <link rel="alternative" hreflang="zh_CN" href="https://gorm.io/zh_CN/gen/sql_annotation.html">
    
      <link rel="alternative" hreflang="de_DE" href="https://gorm.io/de_DE/gen/sql_annotation.html">
    
      <link rel="alternative" hreflang="id_ID" href="https://gorm.io/id_ID/gen/sql_annotation.html">
    
      <link rel="alternative" hreflang="ja_JP" href="https://gorm.io/ja_JP/gen/sql_annotation.html">
    
      <link rel="alternative" hreflang="ru_RU" href="https://gorm.io/ru_RU/gen/sql_annotation.html">
    
      <link rel="alternative" hreflang="ko_KR" href="https://gorm.io/ko_KR/gen/sql_annotation.html">
    
      <link rel="alternative" hreflang="hi_IN" href="https://gorm.io/hi_IN/gen/sql_annotation.html">
    
      <link rel="alternative" hreflang="fr_FR" href="https://gorm.io/fr_FR/gen/sql_annotation.html">
    
      <link rel="alternative" hreflang="it_IT" href="https://gorm.io/it_IT/gen/sql_annotation.html">
    
      <link rel="alternative" hreflang="es_ES" href="https://gorm.io/es_ES/gen/sql_annotation.html">
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  
<link rel="stylesheet" href="/css/navy.css">

  <!-- endbuild -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
  <!-- RSS -->
  <link rel="alternate" href="/atom.xml" title="GORM" type="application/atom+xml">
  <!-- Open Graph -->
  <meta name="description" content="Annotations are comments at interface’s methods, Gen will parse them and generate the query API for the applied structs. Gen provies some conventions for dynamic conditionally SQL support, let us intr">
<meta property="og:type" content="website">
<meta property="og:title" content="Annotation Syntax">
<meta property="og:url" content="https://gorm.io/ru_RU/gen/sql_annotation.html">
<meta property="og:site_name" content="GORM">
<meta property="og:description" content="Annotations are comments at interface’s methods, Gen will parse them and generate the query API for the applied structs. Gen provies some conventions for dynamic conditionally SQL support, let us intr">
<meta property="og:locale" content="ru_RU">
<meta property="article:published_time" content="2025-06-09T09:33:03.300Z">
<meta property="article:modified_time" content="2025-06-09T09:33:03.300Z">
<meta property="article:author" content="Jinzhu">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="zhangjinzhu">
  <!-- Google Tag Manager -->
  <meta name="google-adsense-account" content="ca-pub-1190038979533623">

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WSNPD75');</script>


<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="/ru_RU/" id="logo">
        <img src="/gorm.svg" alt="GORM">
      </a>
    </h1>
    <nav id="main-nav">
      <a href="/ru_RU/docs/" class="main-nav-link"><i class="fa fa-book"></i>Документация</a><a href="/ru_RU/gen/" class="main-nav-link"><i class="fa fa-tools"></i>Gen</a><a href="/ru_RU/community.html" class="main-nav-link"><i class="fab fa-slack"></i>Сообщество</a><a href="https://pkg.go.dev/gorm.io/gorm" class="main-nav-link" target="_blank"><i class="fa fa-cogs"></i>API</a><a href="/ru_RU/contribute.html" class="main-nav-link"><i class="fa fa-rocket"></i>Внести вклад</a>
      <div id="search-input-wrap">
        <div id="search-input-icon">
          <i class="fa fa-search"></i>
        </div>
        <input type="search" id="search-input" placeholder="Поиск в документации...">
      </div>
    </nav>
    <div id="lang-select-wrap">
      <label id="lang-select-label"><i class="fa fa-globe"></i><span>Русский</span></label>
      <select id="lang-select" data-canonical="">
        
          <option value="en">English</option>
        
          <option value="zh_CN">简体中文</option>
        
          <option value="de_DE">Deutsch</option>
        
          <option value="id_ID">bahasa Indonesia</option>
        
          <option value="ja_JP">日本語</option>
        
          <option value="ru_RU" selected>Русский</option>
        
          <option value="ko_KR">한국어</option>
        
          <option value="hi_IN">हिन्दी</option>
        
          <option value="fr_FR">French</option>
        
          <option value="it_IT">Italiano</option>
        
          <option value="es_ES">Español</option>
        
      </select>
    </div>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name">Annotation Syntax</h1>
                
                <a target="_blank" rel="noopener" href="https://translate.gorm.io/project/go-gorm/ru" class="article-edit-link" title="Улучшить эту страницу"><i class="fa fa-pencil"></i></a>
                
              </header>
              <div class="article-content" itemprop="articleBody">
                <html><head></head><body><p>Annotations are comments at interface’s methods, Gen will parse them and generate the query API for the applied structs.</p>
<p>Gen provies some conventions for dynamic conditionally SQL support, let us introduce them from three aspects:</p>
<ul>
<li>Returning Results</li>
<li>Template Placeholder</li>
<li>Template Expression</li>
</ul>
<h2 id="Returning-Results" class="article-heading"><a href="#Returning-Results" class="headerlink" title="Returning Results"></a>Returning Results<a class="article-anchor" href="#Returning-Results" aria-hidden="true"></a></h2><p>Gen allows to configure returning result type, it supports following four basic types for now</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>gen.T</td>
<td>returns struct</td>
</tr>
<tr>
<td>gen.M</td>
<td>returns map</td>
</tr>
<tr>
<td>gen.RowsAffected</td>
<td>returns rowsAffected returned from database (type: int64)</td>
</tr>
<tr>
<td>error</td>
<td>returns error if any</td>
</tr>
</tbody></table>
<p>e.g:</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Querier <span class="keyword">interface</span> {</span><br><span class="line">  <span class="comment">// SELECT * FROM @@table WHERE id=@id</span></span><br><span class="line">  GetByID(id <span class="type">int</span>) (gen.T, <span class="type">error</span>) <span class="comment">// returns struct and error</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// SELECT * FROM @@table WHERE id=@id</span></span><br><span class="line">  GetByID(id <span class="type">int</span>) gen.T <span class="comment">// returns data as struct</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// SELECT * FROM @@table WHERE id=@id</span></span><br><span class="line">  GetByID(id <span class="type">int</span>) (gen.M, <span class="type">error</span>) <span class="comment">// returns map and error</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// INSERT INTO @@table (name, age) VALUES (@name, @age)</span></span><br><span class="line">  InsertValue(name <span class="type">string</span>, age <span class="type">int</span>) (gen.RowsAffected, <span class="type">error</span>) <span class="comment">// returns affected rows count and error</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>These basic types can be combined with other symbols like <code>*</code>, <code>[]</code>, for example:</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Querier <span class="keyword">interface</span> {</span><br><span class="line">  <span class="comment">// SELECT * FROM @@table WHERE id=@id</span></span><br><span class="line">  GetByID(id <span class="type">int</span>) (*gen.T, <span class="type">error</span>) <span class="comment">// returns data as pointer and error</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// SELECT * FROM @@table WHERE id=@id</span></span><br><span class="line">  GetByID(id <span class="type">int</span>) (*[]gen.T, <span class="type">error</span>) <span class="comment">// returns data as pointer of slice and error</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// SELECT * FROM @@table WHERE id=@id</span></span><br><span class="line">  GetByID(id <span class="type">int</span>) ([]*gen.T, <span class="type">error</span>) <span class="comment">// returns data as slice of pointer and error</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// SELECT * FROM @@table WHERE id=@id</span></span><br><span class="line">  GetByID(id <span class="type">int</span>) ([]gen.M, <span class="type">error</span>) <span class="comment">// returns data as slice of map and error</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="Template-Placeholder" class="article-heading"><a href="#Template-Placeholder" class="headerlink" title="Template Placeholder"></a>Template Placeholder<a class="article-anchor" href="#Template-Placeholder" aria-hidden="true"></a></h2><p>Gen provides some placeholders to generate dynamic &amp; safe SQL</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>@@table</code></td>
<td>escaped &amp; quoted table name</td>
</tr>
<tr>
<td><code>@@&lt;name&gt;</code></td>
<td>escaped &amp; quoted table/column name from params</td>
</tr>
<tr>
<td><code>@&lt;name&gt;</code></td>
<td>SQL query params from params</td>
</tr>
</tbody></table>
<p>e.g:</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Filter <span class="keyword">interface</span> {</span><br><span class="line">  <span class="comment">// SELECT * FROM @@table WHERE @@column=@value</span></span><br><span class="line">  FilterWithColumn(column <span class="type">string</span>, value <span class="type">string</span>) (gen.T, <span class="type">error</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Apply the `Filter` interface to `User`, `Company`</span></span><br><span class="line">g.ApplyInterface(<span class="function"><span class="keyword">func</span><span class="params">(Filter)</span></span> {}, model.User{}, model.Company{})</span><br></pre></td></tr></tbody></table></figure>

<p>After generate the code, you can use it like this in your application.</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"your_project/query"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">  user, err := query.User.FilterWithColumn(<span class="string">"name"</span>, <span class="string">"jinzhu"</span>)</span><br><span class="line">  <span class="comment">// similar like db.Exec("SELECT * FROM `users` WHERE `name` = ?", "jinzhu")</span></span><br><span class="line"></span><br><span class="line">  company, err := query.Company.FilterWithColumn(<span class="string">"name"</span>, <span class="string">"tiktok"</span>)</span><br><span class="line">  <span class="comment">// similar like db.Exec("SELECT * FROM `companies` WHERE `name` = ?", "tiktok")</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="Template-Expression" class="article-heading"><a href="#Template-Expression" class="headerlink" title="Template Expression"></a>Template Expression<a class="article-anchor" href="#Template-Expression" aria-hidden="true"></a></h2><p>Gen provides powerful expressions support for dynamic conditional SQL, currently support following expressions:</p>
<ul>
<li><code>if/else</code></li>
<li><code>where</code></li>
<li><code>set</code></li>
<li><code>for</code></li>
</ul>
<h3 id="if-else" class="article-heading"><a href="#if-else" class="headerlink" title="if/else"></a><code>if/else</code><a class="article-anchor" href="#if-else" aria-hidden="true"></a></h3><p>The <code>if/else</code> expression allows to use golang syntax as condition, it can be written like:</p>
<figure class="highlight handlebars"><table><tbody><tr><td class="code"><pre><span class="line"><span class="template-variable">{{<span class="name"><span class="built_in">if</span></span> cond1}}</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  // do something here</span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">{{<span class="keyword">else</span> <span class="keyword">if</span> cond2}}</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  // do something here</span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">{{<span class="keyword">else</span>}}</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  // do something here</span></span><br><span class="line"><span class="language-xml"></span><span class="template-variable">{{<span class="name">end</span>}}</span></span><br></pre></td></tr></tbody></table></figure>

<p>For example:</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Querier <span class="keyword">interface</span> {</span><br><span class="line">  <span class="comment">// SELECT * FROM users WHERE</span></span><br><span class="line">  <span class="comment">//  {{if name !=""}}</span></span><br><span class="line">  <span class="comment">//      username=@name AND</span></span><br><span class="line">  <span class="comment">//  {{end}}</span></span><br><span class="line">  <span class="comment">//  role="admin"</span></span><br><span class="line">  QueryWith(name <span class="type">string</span>) (gen.T,<span class="type">error</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>A more complicated case:</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Querier <span class="keyword">interface</span> {</span><br><span class="line">  <span class="comment">// SELECT * FROM users</span></span><br><span class="line">  <span class="comment">//  {{if user != nil}}</span></span><br><span class="line">  <span class="comment">//      {{if user.ID &gt; 0}}</span></span><br><span class="line">  <span class="comment">//          WHERE id=@user.ID</span></span><br><span class="line">  <span class="comment">//      {{else if user.Name != ""}}</span></span><br><span class="line">  <span class="comment">//          WHERE username=@user.Name</span></span><br><span class="line">  <span class="comment">//      {{end}}</span></span><br><span class="line">  <span class="comment">//  {{end}}</span></span><br><span class="line">  QueryWith(user *gen.T) (gen.T, <span class="type">error</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>How it can be used:</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line">query.User.QueryWith(&amp;User{Name: <span class="string">"zhangqiang"</span>})</span><br><span class="line"><span class="comment">// SELECT * FROM users WHERE username="zhangqiang"</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="where" class="article-heading"><a href="#where" class="headerlink" title="where"></a><code>where</code><a class="article-anchor" href="#where" aria-hidden="true"></a></h3><p>The <code>where</code> expression make you write the <code>WHERE</code> clause for the SQL query easier, let take a simple case as example:</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Querier <span class="keyword">interface</span> {</span><br><span class="line">  <span class="comment">// SELECT * FROM @@table</span></span><br><span class="line">  <span class="comment">//  {{where}}</span></span><br><span class="line">  <span class="comment">//      id=@id</span></span><br><span class="line">  <span class="comment">//  {{end}}</span></span><br><span class="line">  Query(id <span class="type">int</span>) gen.T</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>With the generated code, you can use it like:</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line">query.User.Query(<span class="number">10</span>)</span><br><span class="line"><span class="comment">// SELECT * FROM users WHERE id=10</span></span><br></pre></td></tr></tbody></table></figure>

<p>Here is another complicated case, in this case, you will learn the <code>WHERE</code> clause only be inserted if there are any children expressions matched and it can smartly trim uncessary <code>and</code>, <code>or</code>, <code>xor</code>, <code>,</code> inside the <code>where</code> clause.</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Querier <span class="keyword">interface</span> {</span><br><span class="line">  <span class="comment">// SELECT * FROM @@table</span></span><br><span class="line">  <span class="comment">//  {{where}}</span></span><br><span class="line">  <span class="comment">//    {{if !start.IsZero()}}</span></span><br><span class="line">  <span class="comment">//      created_time &gt; @start</span></span><br><span class="line">  <span class="comment">//    {{end}}</span></span><br><span class="line">  <span class="comment">//    {{if !end.IsZero()}}</span></span><br><span class="line">  <span class="comment">//      AND created_time &lt; @end</span></span><br><span class="line">  <span class="comment">//    {{end}}</span></span><br><span class="line">  <span class="comment">//  {{end}}</span></span><br><span class="line">  FilterWithTime(start, end time.Time) ([]gen.T, <span class="type">error</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>The generated code can be used like:</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> (</span><br><span class="line">  since = time.Date(<span class="number">2022</span>, <span class="number">10</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, time.UTC)</span><br><span class="line">  end   = time.Date(<span class="number">2022</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, time.UTC)</span><br><span class="line">  zero  = time.Time{}</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">query.User.FilterWithTime(since, end)</span><br><span class="line"><span class="comment">// SELECT * FROM `users` WHERE created_time &gt; "2022-10-01" AND created_time &lt; "2022-10-10"</span></span><br><span class="line"></span><br><span class="line">query.User.FilterWithTime(since, zero)</span><br><span class="line"><span class="comment">// SELECT * FROM `users` WHERE created_time &gt; "2022-10-01"</span></span><br><span class="line"></span><br><span class="line">query.User.FilterWithTime(zero, end)</span><br><span class="line"><span class="comment">// SELECT * FROM `users` WHERE created_time &lt; "2022-10-10"</span></span><br><span class="line"></span><br><span class="line">query.User.FilterWithTime(zero, zero)</span><br><span class="line"><span class="comment">// SELECT * FROM `users`</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="set" class="article-heading"><a href="#set" class="headerlink" title="set"></a><code>set</code><a class="article-anchor" href="#set" aria-hidden="true"></a></h3><p>The <code>set</code> expression used to generate the <code>SET</code> clause for the SQL query, it will trim uncessary <code>,</code> automatically, for example:</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// UPDATE @@table</span></span><br><span class="line"><span class="comment">//  {{set}}</span></span><br><span class="line"><span class="comment">//    {{if user.Name != ""}} username=@user.Name, {{end}}</span></span><br><span class="line"><span class="comment">//    {{if user.Age &gt; 0}} age=@user.Age, {{end}}</span></span><br><span class="line"><span class="comment">//    {{if user.Age &gt;= 18}} is_adult=1 {{else}} is_adult=0 {{end}}</span></span><br><span class="line"><span class="comment">//  {{end}}</span></span><br><span class="line"><span class="comment">// WHERE id=@id</span></span><br><span class="line">Update(user gen.T, id <span class="type">int</span>) (gen.RowsAffected, <span class="type">error</span>)</span><br></pre></td></tr></tbody></table></figure>

<p>The generated code can be used like:</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line">query.User.Update(User{Name: <span class="string">"jinzhu"</span>, Age: <span class="number">18</span>}, <span class="number">10</span>)</span><br><span class="line"><span class="comment">// UPDATE users SET username="jinzhu", age=18, is_adult=1 WHERE id=10</span></span><br><span class="line"></span><br><span class="line">query.User.Update(User{Name: <span class="string">"jinzhu"</span>, Age: <span class="number">0</span>}, <span class="number">10</span>)</span><br><span class="line"><span class="comment">// UPDATE users SET username="jinzhu", is_adult=0 WHERE id=10</span></span><br><span class="line"></span><br><span class="line">query.User.Update(User{Age: <span class="number">0</span>}, <span class="number">10</span>)</span><br><span class="line"><span class="comment">// UPDATE users SET is_adult=0 WHERE id=10</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="for" class="article-heading"><a href="#for" class="headerlink" title="for"></a><code>for</code><a class="article-anchor" href="#for" aria-hidden="true"></a></h3><p>The <code>for</code> expression iterates over a slice to generate the SQL, let’s explain by example</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// SELECT * FROM @@table</span></span><br><span class="line"><span class="comment">// {{where}}</span></span><br><span class="line"><span class="comment">//   {{for _,user:=range users}}</span></span><br><span class="line"><span class="comment">//     {{if user.Name !="" &amp;&amp; user.Age &gt;0}}</span></span><br><span class="line"><span class="comment">//       (username = @user.Name AND age=@user.Age AND role LIKE concat("%",@user.Role,"%")) OR</span></span><br><span class="line"><span class="comment">//     {{end}}</span></span><br><span class="line"><span class="comment">//   {{end}}</span></span><br><span class="line"><span class="comment">// {{end}}</span></span><br><span class="line">Filter(users []gen.T) ([]gen.T, <span class="type">error</span>)</span><br></pre></td></tr></tbody></table></figure>

<p>Usage:</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line">query.User.Filter([]User{</span><br><span class="line">        {Name: <span class="string">"jinzhu"</span>, Age: <span class="number">18</span>, Role: <span class="string">"admin"</span>},</span><br><span class="line">        {Name: <span class="string">"zhangqiang"</span>, Age: <span class="number">18</span>, Role: <span class="string">"admin"</span>},</span><br><span class="line">        {Name: <span class="string">"modi"</span>, Age: <span class="number">18</span>, Role: <span class="string">"admin"</span>},</span><br><span class="line">        {Name: <span class="string">"songyuan"</span>, Age: <span class="number">18</span>, Role: <span class="string">"admin"</span>},</span><br><span class="line">})</span><br><span class="line"><span class="comment">// SELECT * FROM users WHERE</span></span><br><span class="line"><span class="comment">//   (username = "jinzhu" AND age=18 AND role LIKE concat("%","admin","%")) OR</span></span><br><span class="line"><span class="comment">//   (username = "zhangqiang" AND age=18 AND role LIKE concat("%","admin","%"))</span></span><br><span class="line"><span class="comment">//   (username = "modi" AND age=18 AND role LIKE concat("%","admin","%")) OR</span></span><br><span class="line"><span class="comment">//   (username = "songyuan" AND age=18 AND role LIKE concat("%","admin","%"))</span></span><br></pre></td></tr></tbody></table></figure>
</body></html>
              </div>

              

              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2025-06-09T09:33:03.300Z" itemprop="dateModified">Последнее обновление: 2025-06-09</time>
<a href="dynamic_sql.html" class="article-footer-prev" title="Общие сведения"><i class="fa fa-chevron-left"></i><span>Пред.</span></a><a href="dao.html" class="article-footer-next" title="Общие сведения"><span>След.</span><i class="fa fa-chevron-right"></i></a>
              </footer>

              <div class="post_sponsors">
                <div class="sponsors-wrapper-pc open-collective-sponsors">
  <div class="inner">
    <div class="sponsors">
      <h1>Platinum Sponsors <i class="far fa-kiss-wink-heart"></i></h1>
      <!-- <div class="sponsor_item"> -->
      <!--   <a href="https://chainlinklabs.com" target="_blank" rel="sponsored noopener"> -->
      <!--     <img src="/sponsors-imgs/chainlink.png" alt="chainlink"> -->
      <!--   </a> -->
      <!-- </div> -->
      <div class="sponsor_item" title="Help to deliver a better GORM!">
        <a class="become-sponsor" href="/contribute.html#Donations">Become a Sponsor!</a>
      </div>
    </div>

    <div class="sponsors">
      <h1>Gold Sponsors <i class="far fa-kiss-wink-heart"></i></h1>
      <!-- <div class="sponsor_item"> -->
      <!--   <a href="https://hubuc.com" target="_blank" rel="sponsored noopener" title="hubuc"> -->
      <!--     <img src="/sponsors-imgs/hubuc.svg" alt="hubuc"> -->
      <!--   </a> -->
      <!-- </div> -->
      <div class="sponsor_item sponsor_item_link">
        <a href="https://www.encore.dev/?utm_source=github&utm_medium=github-gorm-sponsor-logo&utm_campaign=gorm-20231215" target="_blank" rel="sponsored noopener" title="Encore">
          <img src="/sponsors-imgs/encore.png" alt="Encore">
        </a>
      </div>
      <div class="sponsor_item sponsor_item_link">
        <a href="https://incident.io" target="_blank" rel="sponsored noopener" title="Incident.io">
          <img src="/sponsors-imgs/incident-io.svg" alt="Incident.io">
        </a>
      </div>
      <div class="sponsor_item sponsor_item_link">
        <a href="https://seats.aero" target="_blank" rel="sponsored noopener" title="Seats.aero">
          <img src="/sponsors-imgs/seats.aero.svg" alt="Seats.aero">
        </a>
      </div>

      <div class="sponsor_item" title="Help to deliver a better GORM!">
        <a class="become-sponsor" href="/contribute.html#Donations">Become a Sponsor!</a>
      </div>

      
    </div>
  </div>
</div>

<div class="sponsors-wrapper-mobile open-collective-sponsors">
  <div class="inner">
    <div class="sponsors">
      <h1>Platinum Sponsors</h1>
      <!-- <div class="sponsor_item"> -->
      <!--   <a href="https://chainlinklabs.com" target="_blank" rel="sponsored noopener"> -->
      <!--     <img src="/sponsors-imgs/chainlink.png" alt="chainlink"> -->
      <!--   </a> -->
      <!-- </div> -->
      <div class="sponsor_item" title="Help to deliver a better GORM!">
        <a class="become-sponsor" href="/contribute.html#Donations">Become a Sponsor!</a>
      </div>
    </div>

    <div class="sponsors">
      <h1>Gold Sponsors</h1>
      <!-- <div class="sponsor_item"> -->
      <!--   <a href="https://chainlinklabs.com" target="_blank" rel="sponsored noopener" title="hubuc"> -->
      <!--     <img src="/sponsors-imgs/hubuc.svg" alt="hubuc"> -->
      <!--   </a> -->
      <!-- </div> -->
      <!-- <div class="sponsor_item"> -->
      <!--   <a href="https://www.bytebase.com/?utm_source=github&utm_medium=github-gorm-sponsor-logo&utm_campaign=gorm-20220715" target="_blank" rel="sponsored noopener" title="bytebase"> -->
      <!--     <img src="/sponsors-imgs/bytebase.png" alt="bytebase"> -->
      <!--   </a> -->
      <!-- </div> -->
      <div class="sponsor_item">
        <a href="https://www.encore.dev/?utm_source=github&utm_medium=github-gorm-sponsor-logo&utm_campaign=gorm-20231215" target="_blank" rel="sponsored noopener" title="Encore">
          <img src="/sponsors-imgs/encore.png" alt="Encore">
        </a>
      </div>
      <div class="sponsor_item">
        <a href="https://incident.io" target="_blank" rel="sponsored noopener" title="Incident.io">
          <img src="/sponsors-imgs/incident-io.svg" alt="Incident.io">
        </a>
      </div>
      <div class="sponsor_item">
        <a href="https://seats.aero" target="_blank" rel="sponsored noopener" title="Seats.aero">
          <img src="/sponsors-imgs/seats.aero.svg" alt="Seats.aero">
        </a>
      </div>

      <div class="sponsor_item" title="Help to deliver a better GORM!">
        <a class="become-sponsor" href="/contribute.html#Donations">Become a Sponsor!</a>
      </div>
    </div>
  </div>
</div>

              </div>

              <!--  -->
<!-- <section id="comments"> -->
<!-- <div id="disqus_thread"></div> -->
<!-- </sction> -->

<!-- <script> -->
<!-- var disqus_config = function () { -->
<!-- this.page.url = 'https://gorm.io/ru_RU/gen/sql_annotation.html'; -->
<!-- this.page.identifier = 'https://gorm.io/ru_RU/gen/sql_annotation.html'; -->
<!-- this.language = 'ru'; -->
<!-- }; -->

<!-- (function() { // DON'T EDIT BELOW THIS LINE -->
<!-- var d = document, s = d.createElement('script'); -->
<!-- s.src = 'https://gormv2.disqus.com/embed.js'; -->
<!-- s.setAttribute('data-timestamp', +new Date()); -->
<!-- (d.head || d.body).appendChild(s); -->
<!-- })(); -->
<!-- </script> -->
<!--  -->

            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <div id="sidebar-ad-wrapper" class="tagmanager_ad"></div>
              <strong class="sidebar-title">Содержимое</strong>
              <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Returning-Results"><span class="toc-text">Returning Results</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Template-Placeholder"><span class="toc-text">Template Placeholder</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Template-Expression"><span class="toc-text">Template Expression</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#if-else"><span class="toc-text">if&#x2F;else</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#where"><span class="toc-text">where</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#set"><span class="toc-text">set</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#for"><span class="toc-text">for</span></a></li></ol></li></ol>

              
                <a href="https://translate.gorm.io/project/go-gorm/ru" target="_blank" id="article-improve">
                  Улучшить эту страницу
                </a>
              
              <a href="#" id="article-toc-top">Вернуться к началу</a>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner">
    <strong class="sidebar-title">Начало работы</strong><a href="index.html" class="sidebar-link">Общие сведения</a><strong class="sidebar-title">Динамичный SQL</strong><a href="dynamic_sql.html" class="sidebar-link">Общие сведения</a><a href="sql_annotation.html" class="sidebar-link current">Аннотация</a><strong class="sidebar-title">DAO</strong><a href="dao.html" class="sidebar-link">Общие сведения</a><a href="create.html" class="sidebar-link">Создать</a><a href="query.html" class="sidebar-link">Запрос</a><a href="update.html" class="sidebar-link">Обновить</a><a href="delete.html" class="sidebar-link">Удалить</a><a href="transaction.html" class="sidebar-link">Транзакция</a><a href="associations.html" class="sidebar-link">Связи</a><strong class="sidebar-title">База данных на структуры</strong><a href="database_to_structs.html" class="sidebar-link">Общие сведения</a><a href="gen_tool.html" class="sidebar-link">Gen Tool</a><strong class="sidebar-title">Обучение</strong><a href="clause.html" class="sidebar-link">GORM предложения</a>
  </div>
</aside>

    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2013~2025 <a href="https://github.com/jinzhu" target="_blank">Jinzhu</a><br>
      Documentation licensed under <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank">CC BY 4.0</a>.<br>
      <div id="gorm.cn" style="display:none">
      感谢 <a href="https://github.com/unknwon" target="_blank">无闻</a> 对域名 <a href="https://gorm.cn" target="_blank">gorm.cn</a> 的捐赠<br>
      <a href="http://beian.miit.gov.cn/" target="_blank" data-spm-anchor-id="a3c00.7621333.7y9jhqsfz.112">浙ICP备2020033190号-1</a><br>
      </div>

      <script>
        if (window.location.hostname.includes("gorm.cn")) {
          document.getElementById("gorm.cn").style.display = 'block';
        }
      </script>
    </div>
    <div id="footer-links">
      <a href="https://twitter.com/zhangjinzhu" class="footer-link" target="_blank"><i class="fab fa-twitter"></i></a>
      <a href="https://github.com/go-gorm/gorm" class="footer-link" target="_blank"><i class="fab fa-github-alt"></i></a>
    </div>
  </div>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <li class="mobile-nav-item">
        <a href="/" class="mobile-nav-link" rel="external" target="_blank"><i class="fa fa-home"></i>Главная</a>
      </li>
      <a href="/ru_RU/docs/" class="mobile-nav-link"><i class="fa fa-book"></i>Документация</a><a href="/ru_RU/gen/" class="mobile-nav-link"><i class="fa fa-tools"></i>Gen</a><a href="/ru_RU/community.html" class="mobile-nav-link"><i class="fab fa-slack"></i>Сообщество</a><a href="https://pkg.go.dev/gorm.io/gorm" class="mobile-nav-link" target="_blank"><i class="fa fa-cogs"></i>API</a><a href="/ru_RU/contribute.html" class="mobile-nav-link"><i class="fa fa-rocket"></i>Внести вклад</a>
    </ul>
    
      <strong class="mobile-nav-title">Начало работы</strong><a href="index.html" class="mobile-nav-link">Общие сведения</a><strong class="mobile-nav-title">Динамичный SQL</strong><a href="dynamic_sql.html" class="mobile-nav-link">Общие сведения</a><a href="sql_annotation.html" class="mobile-nav-link current">Аннотация</a><strong class="mobile-nav-title">DAO</strong><a href="dao.html" class="mobile-nav-link">Общие сведения</a><a href="create.html" class="mobile-nav-link">Создать</a><a href="query.html" class="mobile-nav-link">Запрос</a><a href="update.html" class="mobile-nav-link">Обновить</a><a href="delete.html" class="mobile-nav-link">Удалить</a><a href="transaction.html" class="mobile-nav-link">Транзакция</a><a href="associations.html" class="mobile-nav-link">Связи</a><strong class="mobile-nav-title">База данных на структуры</strong><a href="database_to_structs.html" class="mobile-nav-link">Общие сведения</a><a href="gen_tool.html" class="mobile-nav-link">Gen Tool</a><strong class="mobile-nav-title">Обучение</strong><a href="clause.html" class="mobile-nav-link">GORM предложения</a>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>Русский</span></span>
    <select id="mobile-lang-select" data-canonical="">
      
        <option value="en">English</option>
      
        <option value="zh_CN">简体中文</option>
      
        <option value="de_DE">Deutsch</option>
      
        <option value="id_ID">bahasa Indonesia</option>
      
        <option value="ja_JP">日本語</option>
      
        <option value="ru_RU" selected>Русский</option>
      
        <option value="ko_KR">한국어</option>
      
        <option value="hi_IN">हिन्दी</option>
      
        <option value="fr_FR">French</option>
      
        <option value="it_IT">Italiano</option>
      
        <option value="es_ES">Español</option>
      
    </select>
  </div>
</nav>

  <!-- Scripts -->
<!-- build:js build/js/main.js -->

<script src="/js/lang_select.js"></script>


<script src="/js/toc.js"></script>


<script src="/js/mobile_nav.js"></script>


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>

<script src="/js/code_expander.js"></script>

<!-- endbuild -->

<!-- Algolia -->



<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WSNPD75"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->


</body>
</html>
